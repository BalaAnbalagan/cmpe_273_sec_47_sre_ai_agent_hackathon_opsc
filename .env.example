# ================================================================
# CMPE273 SRE Hackathon - Team OPSC
# Environment Variables Template
# ================================================================
#
# Instructions:
# 1. Copy this file to .env
# 2. Run: cd infra/scripts && ./deploy-infra.sh
# 3. Run: ./get-config.sh (this will auto-generate .env with real values)
# 4. Update COHERE_API_KEY with your actual API key
#
# ================================================================

# ================================================================
# APPLICATION URLs (Auto-generated after deployment)
# ================================================================
FRONTEND_URL=https://sre-frontend.azurewebsites.net
BACKEND_AZ1_URL=https://sre-backend-az1.azurewebsites.net
BACKEND_AZ2_URL=https://sre-backend-az2.azurewebsites.net

# ================================================================
# MQTT BROKER
# ================================================================
MQTT_HOST=<mqtt-public-ip>
MQTT_PORT=1883
MQTT_SSL_PORT=8883
MQTT_TOPIC_PREFIX=og/field

# Example topics:
# og/field/ND-RAVEN/turbine/TURB-00912
# og/field/TX-EAGLE/thermal_engine/THRM-22177
# og/field/WY-ALPHA/electrical_rotor/EROT-55031

# ================================================================
# RABBITMQ BROKER
# ================================================================
RABBITMQ_HOST=<rabbitmq-public-ip>
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USERNAME=admin
RABBITMQ_PASSWORD=hackathon2024
RABBITMQ_VHOST=/

# Queue names:
# webapp/active_users

# ================================================================
# REDIS CACHE
# ================================================================
REDIS_HOST=redis-sre-ha.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=<auto-generated-key>
REDIS_SSL=true

# Redis is used for:
# - Active user sessions
# - Device state cache
# - Failover state
# - SRE dashboard metrics

# ================================================================
# COSMOS DB (MongoDB API)
# ================================================================
COSMOS_MONGODB_URI=mongodb://<account>:<key>@<account>.mongo.cosmos.azure.com:10255/?ssl=true
COSMOS_DATABASE=sre-database
COSMOS_COLLECTION_IMAGES=device_images
COSMOS_COLLECTION_EMBEDDINGS=image_embeddings

# ================================================================
# STORAGE ACCOUNT
# ================================================================
AZURE_STORAGE_ACCOUNT=storsreimages<suffix>
AZURE_STORAGE_KEY=<auto-generated-key>
AZURE_STORAGE_CONNECTION_STRING=<auto-generated>
BLOB_CONTAINER_IMAGES=site-images
BLOB_CONTAINER_LOGS=system-logs

# ================================================================
# COHERE AI (You need to add your API key)
# ================================================================
COHERE_API_KEY=your-cohere-api-key-here
COHERE_MODEL_EMBED_TEXT=embed-english-v3.0
COHERE_MODEL_EMBED_IMAGE=vision-model-name
COHERE_MODEL_CHAT=command-r-plus

# Get your API key from: https://dashboard.cohere.com/api-keys

# ================================================================
# APPLICATION CONFIG
# ================================================================
ENVIRONMENT=production
LOG_LEVEL=info
ACTIVE_REGION=az1
FAILOVER_ENABLED=true

# For local development, use these instead:
# ENVIRONMENT=development
# MQTT_HOST=localhost
# RABBITMQ_HOST=localhost
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_SSL=false
# COSMOS_MONGODB_URI=mongodb://admin:hackathon2024@localhost:27017/sre-database?authSource=admin

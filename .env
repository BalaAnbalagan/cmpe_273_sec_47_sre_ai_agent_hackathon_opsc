# ================================================================
# CMPE273 SRE Hackathon - Team OPSC
# Azure Infrastructure Configuration
# Generated: 2025-11-16
# ================================================================

# ================================================================
# APPLICATION URLs
# ================================================================
FRONTEND_URL=https://sre-frontend.azurewebsites.net
BACKEND_AZ1_URL=https://sre-backend-az1.azurewebsites.net
BACKEND_AZ2_URL=https://sre-backend-az2.azurewebsites.net

# ================================================================
# MQTT BROKER (Use Local Docker for now)
# Docker Hub having issues with ACI - use local: docker-compose up
# ================================================================
MQTT_HOST=localhost
MQTT_PORT=1883
MQTT_SSL_PORT=8883
MQTT_TOPIC_PREFIX=og/field

# To deploy MQTT ACI later:
# az container create --resource-group rg-cmpe273-sre-hackathon \
#   --name mqtt-broker --image eclipse-mosquitto:2 --os-type Linux \
#   --ports 1883 --ip-address Public

# ================================================================
# RABBITMQ BROKER (Use Local Docker for now)  
# Docker Hub having issues with ACI - use local: docker-compose up
# ================================================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USERNAME=admin
RABBITMQ_PASSWORD=hackathon2024
RABBITMQ_VHOST=/

# To deploy RabbitMQ ACI later:
# az container create --resource-group rg-cmpe273-sre-hackathon \
#   --name rabbitmq-broker --image rabbitmq:3-management --os-type Linux \
#   --ports 5672 15672 --ip-address Public \
#   --environment-variables RABBITMQ_DEFAULT_USER=admin RABBITMQ_DEFAULT_PASS=hackathon2024

# ================================================================
# REDIS CACHE (Deploying - will be ready in ~15 min)
# ================================================================
REDIS_HOST=redis-sre-ha.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=<PENDING - run get-redis-key.sh when ready>
REDIS_SSL=true

# To get Redis key when ready:
# az redis list-keys --resource-group rg-cmpe273-sre-hackathon --name redis-sre-ha --query primaryKey -o tsv

# ================================================================
# COSMOS DB (MongoDB API)
# ================================================================
COSMOS_MONGODB_URI=<RETRIEVED_BELOW>
COSMOS_DATABASE=sre-database
COSMOS_COLLECTION_IMAGES=device_images
COSMOS_COLLECTION_EMBEDDINGS=image_embeddings

# ================================================================
# STORAGE ACCOUNT
# ================================================================
AZURE_STORAGE_ACCOUNT=storsreimages4131
AZURE_STORAGE_KEY=<RETRIEVED_BELOW>
AZURE_STORAGE_CONNECTION_STRING=<RETRIEVED_BELOW>
BLOB_CONTAINER_IMAGES=site-images
BLOB_CONTAINER_LOGS=system-logs

# ================================================================
# COHERE AI (Add your API key from https://dashboard.cohere.com/)
# ================================================================
COHERE_API_KEY=your-cohere-api-key-here
COHERE_MODEL_EMBED_TEXT=embed-english-v3.0
COHERE_MODEL_EMBED_IMAGE=vision-model-name
COHERE_MODEL_CHAT=command-r-plus

# ================================================================
# APPLICATION CONFIG
# ================================================================
ENVIRONMENT=production
LOG_LEVEL=info
ACTIVE_REGION=az1
FAILOVER_ENABLED=true
